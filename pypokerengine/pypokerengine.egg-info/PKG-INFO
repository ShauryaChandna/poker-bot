Metadata-Version: 2.1
Name: pypokerengine
Version: 1.0.0
Summary: Complete backend engine for Heads-Up Pot-Limit Hold'em
Home-page: https://github.com/yourusername/pokerbot
Author: Shaurya Chandna
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Topic :: Games/Entertainment
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: black>=22.0.0; extra == "dev"
Requires-Dist: flake8>=4.0.0; extra == "dev"
Requires-Dist: mypy>=0.990; extra == "dev"

#  PotLimitPokerBot: Heads-Up Poker AI

##  Project Goal

Build a modular poker AI focused on:

-  Bot-vs-Human gameplay for Heads-Up Pot-Limit Holdâ€™em
-  Self-learning AI using Counterfactual Regret Minimization (CFR)** and Reinforcement Learning (RL)
-  Interactive web interface built with FastAPI + React for real-time play and strategy visualization

This phase focuses solely on Bot-vs-Human play.  
Future expansions (multiplayer, rule variants, and advanced game modes) will be added once the AI and core engine are production-stable.

---

## Gameplay Mode â€” Bot vs Human

### Overview
- Game Type: Heads-Up Pot-Limit Holdâ€™em  
- Blinds: 10 / 20 (default)  
- Starting Stack: 1000 chips  
- End Condition: Game continues until one player loses all chips  
- Optional Features:
  - Adjustable blinds (constant or increasing)
  - Stack display in big blinds or chips
  - Reveal undealt cards post-hand for analysis/training

---

## AI Core

### Architecture
The AI learns through a hybrid of CFR and RL with opponent modeling and equity simulations.

- Counterfactual Regret Minimization (CFR):
  - Learns near-optimal strategy through iterative self-play  
- Reinforcement Learning (PPO / A2C):
  - Fine-tunes policy and adapts dynamically to player tendencies  
- Opponent Modeling:
  - Tracks VPIP, PFR, Fold%, Aggression Factor, and Showdown win rate  
  - Builds and updates behavioral profiles in real-time  
- Monte Carlo Simulation:
  - Fast rollouts for hand equity estimation  
  - Range-vs-range strength evaluation  

---

##  System Overview
PotLimitPokerBot
â”‚
â”œâ”€â”€ 1ï¸. Core Engine
â”‚   â”œâ”€â”€ Cards, deck, and dealing logic
â”‚   â”œâ”€â”€ Pot-limit betting and validation
â”‚   â”œâ”€â”€ Game state management (stacks, pot, blinds)
â”‚   â””â”€â”€ Heads-Up round flow
â”‚
â”œâ”€â”€ 2ï¸. Simulation Layer
â”‚   â”œâ”€â”€ Monte Carlo rollouts
â”‚   â”œâ”€â”€ Hand equity and range evaluation
â”‚   â””â”€â”€ Self-play equity approximation
â”‚
â”œâ”€â”€ 3ï¸. Intelligence Layer (AI)
â”‚   â”œâ”€â”€ CFR implementation
â”‚   â”œâ”€â”€ RL integration (PPO / A2C)
â”‚   â”œâ”€â”€ Self-play training loop
â”‚   â””â”€â”€ Opponent adaptation
â”‚
â”œâ”€â”€ 4ï¸. Opponent Modeling
â”‚   â”œâ”€â”€ Player profiling (VPIP, PFR, AF)
â”‚   â”œâ”€â”€ Bayesian hand range inference
â”‚   â””â”€â”€ Real-time behavioral adjustments
â”‚
â”œâ”€â”€ 5ï¸. Web Layer
â”‚   â”œâ”€â”€ FastAPI backend (game state, sockets, REST endpoints)
â”‚   â””â”€â”€ React frontend (table UI, decision visualizations)
â”‚
â”œâ”€â”€ 6ï¸. Data & Persistence
â”‚   â”œâ”€â”€ Hand histories
â”‚   â”œâ”€â”€ Model checkpoints
â”‚   â”œâ”€â”€ Player logs
â”‚   â””â”€â”€ Experiment tracking (MLflow / W&B)
â”‚
â””â”€â”€ 7ï¸. Deployment Layer
â”œâ”€â”€ Dockerized services
â”œâ”€â”€ Cloud configs (AWS / Render / GCP)
â””â”€â”€ Monitoring & CI/CD


---

## ğŸ§ª Development Phases

| Phase | Status | Description |
|-------|--------|-------------|
| **1ï¸âƒ£ Core Engine** | âœ… **COMPLETE** | Deck, dealing, pot-limit logic, and state management implemented |
| **2ï¸âƒ£ Simulation Layer** | ğŸ”„ In Progress | Add equity calculation via Monte Carlo rollouts |
| **3ï¸âƒ£ Opponent Modeling** | ğŸ“‹ Planned | Build player profiling and adaptive responses |
| **4ï¸âƒ£ CFR + RL** | ğŸ“‹ Planned | Implement self-learning AI and training pipelines |
| **5ï¸âƒ£ Web Interface** | ğŸ“‹ Planned | FastAPI + React for real-time Bot-vs-Human gameplay |
| **6ï¸âƒ£ Deployment** | ğŸ“‹ Planned | Dockerize, add CI/CD and experiment tracking |

---

## âœ… Phase 1 Complete: Core Engine

The core poker engine is now **fully implemented** and ready for use!

### What's Included

#### Core Components
- âœ… **Card & Deck Management**: Full 52-card deck with shuffling and dealing
- âœ… **Player State Management**: Stack tracking, betting, actions, and hand history
- âœ… **Hand Evaluator**: Complete 7-card poker hand evaluation (all rankings)
- âœ… **Pot-Limit Action Manager**: Official pot-limit betting formula and validation
- âœ… **Round Manager**: Complete betting round flow (preflop â†’ river â†’ showdown)
- âœ… **Game Controller**: Multi-hand game management with blind rotation

#### Features
- âœ… **Heads-Up Gameplay**: Full support for 2-player poker
- âœ… **Pot-Limit Rules**: Accurate pot-limit betting calculations
- âœ… **Complete Game Flow**: From deal to showdown with all streets
- âœ… **State API**: Clean `get_state()` for AI/UI integration
- âœ… **Logging System**: Comprehensive game event logging
- âœ… **CLI Interface**: Interactive command-line play vs AI

### Quick Start

#### Installation
```bash
cd /Users/shauryachandna/pokerbot
pip install -r requirements.txt
```

#### Run Interactive Game
```bash
python examples/interactive_cli.py
```

#### Run Example Scripts
```bash
# Simple AI vs AI game
python examples/simple_game.py

# Hand evaluation demo
python examples/hand_evaluation_demo.py

# API usage examples
python examples/api_usage.py
```

#### Use in Your Code
```python
from pypokerengine.engine import Game

# Create game
game = Game(
    player1_name="Alice",
    player2_name="Bob",
    starting_stack=1000,
    small_blind=10,
    big_blind=20
)

# Define your AI strategy
def my_ai_strategy(player, legal_actions, street):
    if legal_actions['check']:
        return 'check', 0
    if legal_actions['call']:
        return 'call', legal_actions['call']['amount']
    return 'fold', 0

# Play a hand
result = game.play_hand(my_ai_strategy)
print(f"Winner: {result['winners']}")
```

### Documentation

- **[Complete API Documentation](POKER_ENGINE_DOCS.md)** - Comprehensive guide to all classes and methods
- **[Examples Directory](examples/)** - Working examples of engine usage

### Project Structure

```
pokerbot/
â”œâ”€â”€ pypokerengine/
â”‚   â””â”€â”€ pypokerengine/
â”‚       â”œâ”€â”€ engine/              # Core game engine
â”‚       â”‚   â”œâ”€â”€ card.py          # Card and Deck classes
â”‚       â”‚   â”œâ”€â”€ player.py        # Player state management
â”‚       â”‚   â”œâ”€â”€ hand_evaluator.py # Hand ranking evaluation
â”‚       â”‚   â”œâ”€â”€ action_manager.py # Pot-limit action validation
â”‚       â”‚   â”œâ”€â”€ round.py         # Single hand/round management
â”‚       â”‚   â””â”€â”€ game.py          # Main game controller
â”‚       â”œâ”€â”€ cli/                 # Command-line interface
â”‚       â”‚   â””â”€â”€ poker_cli.py     # Interactive CLI
â”‚       â””â”€â”€ utils/               # Utility modules
â”‚           â””â”€â”€ logging_config.py # Logging system
â”œâ”€â”€ examples/                    # Example scripts
â”‚   â”œâ”€â”€ simple_game.py
â”‚   â”œâ”€â”€ interactive_cli.py
â”‚   â”œâ”€â”€ hand_evaluation_demo.py
â”‚   â””â”€â”€ api_usage.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ POKER_ENGINE_DOCS.md        # Full documentation
â””â”€â”€ README.md
```

---

## ğŸ“Š Testing & Metrics

- âœ… **Unit Tests:** For all core components and AI functions  
- ğŸ” **Integration Tests:** Verify full game flow and decision correctness  
- âš™ï¸ **Performance Metrics:** Games/sec, exploitability, win rate vs baselines  
- ğŸ§¾ **Experiment Tracking:** MLflow / Weights & Biases  

---

## âš™ï¸ Tech Stack

| Layer | Technology |
|--------|-------------|
| **Core Engine** | Python 3.11+, NumPy |
| **AI / Learning** | PyTorch, MCCFR |
| **Simulation** | Treys / Deuces (hand evaluator) |
| **API** | FastAPI, Uvicorn |
| **Frontend** | React + TailwindCSS |
| **Database** | PostgreSQL (SQLAlchemy ORM) |
| **Deployment** | Docker + Docker Compose |
| **Experiment Tracking** | MLflow / Weights & Biases |
| **Hosting** | AWS ECS / Render / GCP Cloud Run |

---

## ğŸ§‘â€ğŸ’» Development Philosophy

- **Clean modular design:** Each layer isolated and extendable  
- **Strong typing + documentation:** Every class/function includes type hints and docstrings  
- **Test-driven development:** Reliability first, speed second  
- **Transparent AI:** Track every training step, seed, and rollout for reproducibility  

---

## ğŸš€ End Goal (Phase 1)

Deliver a **robust, explainable poker AI** that can:
- Play **Heads-Up Pot-Limit Holdâ€™em** against humans in real time  
- Adapt its play style dynamically based on opponent behavior  
- Provide **decision visualizations** and **strategy insights** through the web interface  

---
